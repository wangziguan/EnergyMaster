{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nTemplate.AdminDashboardViewWrapper.rendered = function() {\n  var node;\n  node = this.firstNode;\n  return this.autorun(function() {\n    var data;\n    data = Template.currentData();\n    if (data.view) {\n      Blaze.remove(data.view);\n    }\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n    return data.view = Blaze.renderWithData(Template.AdminDashboardView, data, node);\n  });\n};\n\nTemplate.AdminDashboardViewWrapper.destroyed = function() {\n  return Blaze.remove(this.data.view);\n};\n\nTemplate.AdminDashboardView.rendered = function() {\n  var filter, length, table;\n  table = this.$('.dataTable').DataTable();\n  filter = this.$('.dataTables_filter');\n  length = this.$('.dataTables_length');\n  filter.html('<div class=\"input-group\"> <input type=\"search\" class=\"form-control input-sm\" placeholder=\"Search\"></input> <div class=\"input-group-btn\"> <button class=\"btn btn-sm btn-default\"> <i class=\"fa fa-search\"></i> </button> </div> </div>');\n  length.html('<select class=\"form-control input-sm\"> <option value=\"10\">10</option> <option value=\"25\">25</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select>');\n  filter.find('input').on('keyup', function() {\n    return table.search(this.value).draw();\n  });\n  return length.find('select').on('change', function() {\n    return table.page.len(parseInt(this.value)).draw();\n  });\n};\n\nTemplate.AdminDashboardView.helpers({\n  hasDocuments: function() {\n    var ref;\n    return ((ref = AdminCollectionsCount.findOne({\n      collection: Session.get('admin_collection_name')\n    })) != null ? ref.count : void 0) > 0;\n  },\n  newPath: function() {\n    return Router.path('adminDashboard' + Session.get('admin_collection_name') + 'New');\n  }\n});\n\nTemplate.adminEditBtn.helpers({\n  path: function() {\n    return Router.path(\"adminDashboard\" + Session.get('admin_collection_name') + \"Edit\", {\n      _id: this._id\n    });\n  }\n});\n","sourceMap":{"version":3,"file":"/lib/client/js/templates.coffee.js","sourceRoot":"","sources":["/packages/wangziguan_admin/lib/client/js/templates.coffee"],"names":[],"mappings":";AAAA,QAAQ,CAAC,yBAAyB,CAAC,QAAnC,GAA8C,SAAA,GAAA;AAC7C,MAAA,IAAA;AAAA,EAAA,IAAA,GAAO,IAAC,CAAA,SAAR,CAAA;SAEA,IAAC,CAAA,OAAD,CAAS,SAAA,GAAA;AACR,QAAA,IAAA;AAAA,IAAA,IAAA,GAAO,QAAQ,CAAC,WAAT,CAAA,CAAP,CAAA;AAEA,IAAA,IAAG,IAAI,CAAC,IAAR;AAAkB,MAAA,KAAK,CAAC,MAAN,CAAa,IAAI,CAAC,IAAlB,CAAA,CAAlB;KAFA;AAGA,WAAM,IAAI,CAAC,UAAX,GAAA;AACC,MAAA,IAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,UAAtB,CAAA,CADD;IAAA,CAHA;WAMA,IAAI,CAAC,IAAL,GAAY,KAAK,CAAC,cAAN,CAAqB,QAAQ,CAAC,kBAA9B,EAAkD,IAAlD,EAAwD,IAAxD,EAPJ;EAAA,CAAT,EAH6C;AAAA,CAA9C,CAAA;;AAAA,QAYQ,CAAC,yBAAyB,CAAC,SAAnC,GAA+C,SAAA,GAAA;SAC9C,KAAK,CAAC,MAAN,CAAa,IAAC,CAAA,IAAI,CAAC,IAAnB,EAD8C;AAAA,CAZ/C,CAAA;;AAAA,QAeQ,CAAC,kBAAkB,CAAC,QAA5B,GAAuC,SAAA,GAAA;AACtC,MAAA,qBAAA;AAAA,EAAA,KAAA,GAAQ,IAAC,CAAA,CAAD,CAAG,YAAH,CAAgB,CAAC,SAAjB,CAAA,CAAR,CAAA;AAAA,EACA,MAAA,GAAS,IAAC,CAAA,CAAD,CAAG,oBAAH,CADT,CAAA;AAAA,EAEA,MAAA,GAAS,IAAC,CAAA,CAAD,CAAG,oBAAH,CAFT,CAAA;AAAA,EAIA,MAAM,CAAC,IAAP,CAAY,uOAAZ,CAJA,CAAA;AAAA,EAeA,MAAM,CAAC,IAAP,CAAY,gLAAZ,CAfA,CAAA;AAAA,EAwBA,MAAM,CAAC,IAAP,CAAY,OAAZ,CAAoB,CAAC,EAArB,CAAwB,OAAxB,EAAiC,SAAA,GAAA;WAChC,KAAK,CAAC,MAAN,CAAa,IAAC,CAAA,KAAd,CAAoB,CAAC,IAArB,CAAA,EADgC;EAAA,CAAjC,CAxBA,CAAA;SA2BA,MAAM,CAAC,IAAP,CAAY,QAAZ,CAAqB,CAAC,EAAtB,CAAyB,QAAzB,EAAmC,SAAA,GAAA;WAClC,KAAK,CAAC,IAAI,CAAC,GAAX,CAAe,QAAA,CAAS,IAAC,CAAA,KAAV,CAAf,CAA+B,CAAC,IAAhC,CAAA,EADkC;EAAA,CAAnC,EA5BsC;AAAA,CAfvC,CAAA;;AAAA,QA8CQ,CAAC,kBAAkB,CAAC,OAA5B,CACC;AAAA,EAAA,YAAA,EAAc,SAAA,GAAA;AACb,QAAA,GAAA;;;qBAAgF,CAAE,eAAlF,GAA0F,EAD7E;EAAA,CAAd;AAAA,EAEA,OAAA,EAAS,SAAA,GAAA;WACR,MAAM,CAAC,IAAP,CAAY,gBAAA,GAAmB,OAAO,CAAC,GAAR,CAAY,uBAAZ,CAAnB,GAA0D,KAAtE,EADQ;EAAA,CAFT;CADD,CA9CA,CAAA;;AAAA,QAoDQ,CAAC,YAAY,CAAC,OAAtB,CACC;AAAA,EAAA,IAAA,EAAM,SAAA,GAAA;WACL,MAAM,CAAC,IAAP,CAAY,gBAAA,GAAmB,OAAO,CAAC,GAAR,CAAY,uBAAZ,CAAnB,GAA0D,MAAtE,EAA8E;AAAA,MAAA,GAAA,EAAK,IAAC,CAAA,GAAN;KAA9E,EADK;EAAA,CAAN;CADD,CApDA,CAAA","sourcesContent":["Template.AdminDashboardViewWrapper.rendered = ->\n\tnode = @firstNode\n\n\t@autorun ->\n\t\tdata = Template.currentData()\n\n\t\tif data.view then Blaze.remove data.view\n\t\twhile node.firstChild\n\t\t\tnode.removeChild node.firstChild\n\n\t\tdata.view = Blaze.renderWithData Template.AdminDashboardView, data, node\n\nTemplate.AdminDashboardViewWrapper.destroyed = ->\n\tBlaze.remove @data.view\n\nTemplate.AdminDashboardView.rendered = ->\n\ttable = @$('.dataTable').DataTable();\n\tfilter = @$('.dataTables_filter')\n\tlength = @$('.dataTables_length')\n\n\tfilter.html '\n\t\t<div class=\"input-group\">\n\t\t\t<input type=\"search\" class=\"form-control input-sm\" placeholder=\"Search\"></input>\n\t\t\t<div class=\"input-group-btn\">\n\t\t\t\t<button class=\"btn btn-sm btn-default\">\n\t\t\t\t\t<i class=\"fa fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t'\n\n\tlength.html '\n\t\t<select class=\"form-control input-sm\">\n\t\t\t<option value=\"10\">10</option>\n\t\t\t<option value=\"25\">25</option>\n\t\t\t<option value=\"50\">50</option>\n\t\t\t<option value=\"100\">100</option>\n\t\t</select>\n\t'\n\n\tfilter.find('input').on 'keyup', ->\n\t\ttable.search(@value).draw()\n\n\tlength.find('select').on 'change', ->\n\t\ttable.page.len(parseInt @value).draw()\n\nTemplate.AdminDashboardView.helpers\n\thasDocuments: ->\n\t\tAdminCollectionsCount.findOne({collection: Session.get 'admin_collection_name'})?.count > 0\n\tnewPath: ->\n\t\tRouter.path 'adminDashboard' + Session.get('admin_collection_name') + 'New'\n\nTemplate.adminEditBtn.helpers\n\tpath: ->\n\t\tRouter.path \"adminDashboard\" + Session.get('admin_collection_name') + \"Edit\", _id: @_id\n"]}}