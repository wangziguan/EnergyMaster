{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nTemplate.AdminDashboardViewWrapper.rendered = function () {\n  var node;\n  node = this.firstNode;\n  return this.autorun(function () {\n    var data;\n    data = Template.currentData();\n\n    if (data.view) {\n      Blaze.remove(data.view);\n    }\n\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n\n    return data.view = Blaze.renderWithData(Template.AdminDashboardView, data, node);\n  });\n};\n\nTemplate.AdminDashboardViewWrapper.destroyed = function () {\n  return Blaze.remove(this.data.view);\n};\n\nTemplate.AdminDashboardView.rendered = function () {\n  var filter, length, table;\n  table = this.$('.dataTable').DataTable();\n  filter = this.$('.dataTables_filter');\n  length = this.$('.dataTables_length');\n  filter.html('<div class=\"input-group\"> <input type=\"search\" class=\"form-control input-sm\" placeholder=\"Search\"></input> <div class=\"input-group-btn\"> <button class=\"btn btn-sm btn-default\"> <i class=\"fa fa-search\"></i> </button> </div> </div>');\n  length.html('<select class=\"form-control input-sm\"> <option value=\"10\">10</option> <option value=\"25\">25</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select>');\n  filter.find('input').on('keyup', function () {\n    return table.search(this.value).draw();\n  });\n  return length.find('select').on('change', function () {\n    return table.page.len(parseInt(this.value)).draw();\n  });\n};\n\nTemplate.AdminDashboardView.helpers({\n  hasDocuments: function () {\n    var ref;\n    return ((ref = AdminCollectionsCount.findOne({\n      collection: Session.get('admin_collection_name')\n    })) != null ? ref.count : void 0) > 0;\n  },\n  newPath: function () {\n    return Router.path('adminDashboard' + Session.get('admin_collection_name') + 'New');\n  }\n});\nTemplate.adminEditBtn.helpers({\n  path: function () {\n    return Router.path(\"adminDashboard\" + Session.get('admin_collection_name') + \"Edit\", {\n      _id: this._id\n    });\n  }\n});","sourceMap":{"version":3,"sources":["/packages/wangziguan_admin/lib/client/js/templates.coffee","/lib/client/js/templates.coffee"],"names":["Template","AdminDashboardViewWrapper","rendered","node","firstNode","autorun","data","currentData","view","Blaze","remove","firstChild","removeChild","renderWithData","AdminDashboardView","destroyed","filter","length","table","$","DataTable","html","find","on","search","value","draw","page","len","parseInt","helpers","hasDocuments","ref","AdminCollectionsCount","findOne","collection","Session","get","count","newPath","Router","path","adminEditBtn","_id"],"mappings":";AAAAA,QAAQ,CAACC,yBAAT,CAAmCC,QAAnC,GAA8C,YAAA;AAC7C,MAAAC,IAAA;AAAAA,EAAAA,IAAA,GAAO,KAACC,SAAR;ACEC,SDAD,KAACC,OAAD,CAAS,YAAA;AACR,QAAAC,IAAA;AAAAA,IAAAA,IAAA,GAAON,QAAQ,CAACO,WAAT,EAAP;;AAEA,QAAGD,IAAI,CAACE,IAAR,EAAA;AAAkBC,MAAAA,KAAK,CAACC,MAAN,CAAaJ,IAAI,CAACE,IAAlB;ACEf;;ADDH,WAAML,IAAI,CAACQ,UAAX,EAAA;AACCR,MAAAA,IAAI,CAACS,WAAL,CAAiBT,IAAI,CAACQ,UAAtB;AADD;;ACKE,WDFFL,IAAI,CAACE,IAAL,GAAYC,KAAK,CAACI,cAAN,CAAqBb,QAAQ,CAACc,kBAA9B,EAAkDR,IAAlD,EAAwDH,IAAxD,CCEV;ADTH,GAAA,CCAC;ADH4C,CAA9C;;AAYAH,QAAQ,CAACC,yBAAT,CAAmCc,SAAnC,GAA+C,YAAA;ACK7C,SDJDN,KAAK,CAACC,MAAN,CAAa,KAACJ,IAAD,CAAME,IAAnB,CCIC;ADL6C,CAA/C;;AAGAR,QAAQ,CAACc,kBAAT,CAA4BZ,QAA5B,GAAuC,YAAA;AACtC,MAAAc,MAAA,EAAAC,MAAA,EAAAC,KAAA;AAAAA,EAAAA,KAAA,GAAQ,KAACC,CAAD,CAAG,YAAH,EAAiBC,SAAjB,EAAR;AACAJ,EAAAA,MAAA,GAAS,KAACG,CAAD,CAAG,oBAAH,CAAT;AACAF,EAAAA,MAAA,GAAS,KAACE,CAAD,CAAG,oBAAH,CAAT;AAEAH,EAAAA,MAAM,CAACK,IAAP,CAAY,uOAAZ;AAWAJ,EAAAA,MAAM,CAACI,IAAP,CAAY,gLAAZ;AASAL,EAAAA,MAAM,CAACM,IAAP,CAAY,OAAZ,EAAqBC,EAArB,CAAwB,OAAxB,EAAiC,YAAA;ACZ9B,WDaFL,KAAK,CAACM,MAAN,CAAa,KAACC,KAAd,EAAqBC,IAArB,ECbE;ADYH,GAAA;ACVC,SDaDT,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,EAAtB,CAAyB,QAAzB,EAAmC,YAAA;ACZhC,WDaFL,KAAK,CAACS,IAAN,CAAWC,GAAX,CAAeC,QAAA,CAAS,KAACJ,KAAV,CAAf,EAAgCC,IAAhC,ECbE;ADYH,GAAA,CCbC;ADfqC,CAAvC;;AA+BA1B,QAAQ,CAACc,kBAAT,CAA4BgB,OAA5B,CACC;AAAAC,EAAAA,YAAA,EAAc,YAAA;AACb,QAAAC,GAAA;ACVE,WAAO,CAAC,CAACA,GAAG,GAAGC,qBAAqB,CAACC,OAAtB,CAA8B;AAC3CC,MAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAY,uBAAZ;AAD+B,KAA9B,CAAP,KAED,IAFC,GAEML,GDQgE,CAAEM,KCVxE,GDUwE,KAAA,CCVzE,IDUiF,CCVxF;ADSH,GAAA;AAEAC,EAAAA,OAAA,EAAS,YAAA;ACNN,WDOFC,MAAM,CAACC,IAAP,CAAY,mBAAmBL,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAnB,GAA0D,KAAtE,CCPE;ADMM;AAFT,CADD;AAMArC,QAAQ,CAAC0C,YAAT,CAAsBZ,OAAtB,CACC;AAAAW,EAAAA,IAAA,EAAM,YAAA;ACJH,WDKFD,MAAM,CAACC,IAAP,CAAY,mBAAmBL,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAnB,GAA0D,MAAtE,EAA8E;AAAAM,MAAAA,GAAA,EAAK,KAACA;AAAN,KAA9E,CCLE;ADIG;AAAN,CADD","file":"packages/wangziguan:admin/lib/client/js/templates.coffee.map","sourcesContent":["Template.AdminDashboardViewWrapper.rendered = ->\n\tnode = @firstNode\n\n\t@autorun ->\n\t\tdata = Template.currentData()\n\n\t\tif data.view then Blaze.remove data.view\n\t\twhile node.firstChild\n\t\t\tnode.removeChild node.firstChild\n\n\t\tdata.view = Blaze.renderWithData Template.AdminDashboardView, data, node\n\nTemplate.AdminDashboardViewWrapper.destroyed = ->\n\tBlaze.remove @data.view\n\nTemplate.AdminDashboardView.rendered = ->\n\ttable = @$('.dataTable').DataTable();\n\tfilter = @$('.dataTables_filter')\n\tlength = @$('.dataTables_length')\n\n\tfilter.html '\n\t\t<div class=\"input-group\">\n\t\t\t<input type=\"search\" class=\"form-control input-sm\" placeholder=\"Search\"></input>\n\t\t\t<div class=\"input-group-btn\">\n\t\t\t\t<button class=\"btn btn-sm btn-default\">\n\t\t\t\t\t<i class=\"fa fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t'\n\n\tlength.html '\n\t\t<select class=\"form-control input-sm\">\n\t\t\t<option value=\"10\">10</option>\n\t\t\t<option value=\"25\">25</option>\n\t\t\t<option value=\"50\">50</option>\n\t\t\t<option value=\"100\">100</option>\n\t\t</select>\n\t'\n\n\tfilter.find('input').on 'keyup', ->\n\t\ttable.search(@value).draw()\n\n\tlength.find('select').on 'change', ->\n\t\ttable.page.len(parseInt @value).draw()\n\nTemplate.AdminDashboardView.helpers\n\thasDocuments: ->\n\t\tAdminCollectionsCount.findOne({collection: Session.get 'admin_collection_name'})?.count > 0\n\tnewPath: ->\n\t\tRouter.path 'adminDashboard' + Session.get('admin_collection_name') + 'New'\n\nTemplate.adminEditBtn.helpers\n\tpath: ->\n\t\tRouter.path \"adminDashboard\" + Session.get('admin_collection_name') + \"Edit\", _id: @_id\n","Template.AdminDashboardViewWrapper.rendered = function() {\n  var node;\n  node = this.firstNode;\n  return this.autorun(function() {\n    var data;\n    data = Template.currentData();\n    if (data.view) {\n      Blaze.remove(data.view);\n    }\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n    return data.view = Blaze.renderWithData(Template.AdminDashboardView, data, node);\n  });\n};\n\nTemplate.AdminDashboardViewWrapper.destroyed = function() {\n  return Blaze.remove(this.data.view);\n};\n\nTemplate.AdminDashboardView.rendered = function() {\n  var filter, length, table;\n  table = this.$('.dataTable').DataTable();\n  filter = this.$('.dataTables_filter');\n  length = this.$('.dataTables_length');\n  filter.html('<div class=\"input-group\"> <input type=\"search\" class=\"form-control input-sm\" placeholder=\"Search\"></input> <div class=\"input-group-btn\"> <button class=\"btn btn-sm btn-default\"> <i class=\"fa fa-search\"></i> </button> </div> </div>');\n  length.html('<select class=\"form-control input-sm\"> <option value=\"10\">10</option> <option value=\"25\">25</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select>');\n  filter.find('input').on('keyup', function() {\n    return table.search(this.value).draw();\n  });\n  return length.find('select').on('change', function() {\n    return table.page.len(parseInt(this.value)).draw();\n  });\n};\n\nTemplate.AdminDashboardView.helpers({\n  hasDocuments: function() {\n    var ref;\n    return ((ref = AdminCollectionsCount.findOne({\n      collection: Session.get('admin_collection_name')\n    })) != null ? ref.count : void 0) > 0;\n  },\n  newPath: function() {\n    return Router.path('adminDashboard' + Session.get('admin_collection_name') + 'New');\n  }\n});\n\nTemplate.adminEditBtn.helpers({\n  path: function() {\n    return Router.path(\"adminDashboard\" + Session.get('admin_collection_name') + \"Edit\", {\n      _id: this._id\n    });\n  }\n});\n"]}}