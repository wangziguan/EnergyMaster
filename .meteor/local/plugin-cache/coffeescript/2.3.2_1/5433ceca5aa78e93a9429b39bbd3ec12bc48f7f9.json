{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$4","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$5","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$6","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$7","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$9","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/wangziguan/wzg/EnergyMaster/packages/wangziguan:admin/lib/client/js/helpers.coffee","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/wangziguan:admin/lib/client/js/helpers.coffee","filename":"/home/wangziguan/wzg/EnergyMaster/packages/wangziguan:admin/lib/client/js/helpers.coffee","passPerPreset":false,"envName":"development","cwd":"/home/wangziguan/wzg/EnergyMaster","root":"/home/wangziguan/wzg/EnergyMaster","generatorOpts":{"filename":"/home/wangziguan/wzg/EnergyMaster/packages/wangziguan:admin/lib/client/js/helpers.coffee","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/wangziguan:admin/lib/client/js/helpers.coffee"}},"code":"var adminCollections;\nTemplate.registerHelper('AdminTables', AdminTables);\n\nadminCollections = function () {\n  var collections;\n  collections = {};\n\n  if (typeof AdminConfig !== 'undefined' && typeof AdminConfig.collections === 'object') {\n    collections = AdminConfig.collections;\n  }\n\n  collections.Users = {\n    collectionObject: Meteor.users,\n    icon: 'user',\n    label: '账号管理'\n  };\n  return _.map(collections, function (obj, key) {\n    obj = _.extend(obj, {\n      name: key\n    });\n    obj = _.defaults(obj, {\n      label: key,\n      icon: 'plus',\n      color: 'blue'\n    });\n    return obj = _.extend(obj, {\n      viewPath: Router.path(\"adminDashboard\".concat(key, \"View\")),\n      newPath: Router.path(\"adminDashboard\".concat(key, \"New\"))\n    });\n  });\n};\n\nUI.registerHelper('AdminConfig', function () {\n  if (typeof AdminConfig !== 'undefined') {\n    return AdminConfig;\n  }\n});\nUI.registerHelper('admin_skin', function () {\n  return (typeof AdminConfig !== \"undefined\" && AdminConfig !== null ? AdminConfig.skin : void 0) || 'blue';\n});\nUI.registerHelper('admin_collections', adminCollections);\nUI.registerHelper('admin_collection_name', function () {\n  return Session.get('admin_collection_name');\n});\nUI.registerHelper('admin_current_id', function () {\n  return Session.get('admin_id');\n});\nUI.registerHelper('admin_current_doc', function () {\n  return Session.get('admin_doc');\n});\nUI.registerHelper('admin_is_users_collection', function () {\n  return Session.get('admin_collection_name') === 'Users';\n});\nUI.registerHelper('admin_sidebar_items', function () {\n  return AdminDashboard.sidebarItems;\n});\nUI.registerHelper('admin_collection_items', function () {\n  var items;\n  items = [];\n\n  _.each(AdminDashboard.collectionItems, fn => {\n    var item;\n    item = fn(this.name, '/admin/' + this.name);\n\n    if ((item != null ? item.title : void 0) && (item != null ? item.url : void 0)) {\n      return items.push(item);\n    }\n  });\n\n  return items;\n});\nUI.registerHelper('admin_omit_fields', function () {\n  var collection, global;\n\n  if (typeof AdminConfig.autoForm !== 'undefined' && typeof AdminConfig.autoForm.omitFields === 'object') {\n    global = AdminConfig.autoForm.omitFields;\n  }\n\n  if (!Session.equals('admin_collection_name', 'Users') && typeof AdminConfig !== 'undefined' && typeof AdminConfig.collections[Session.get('admin_collection_name')].omitFields === 'object') {\n    collection = AdminConfig.collections[Session.get('admin_collection_name')].omitFields;\n  }\n\n  if (typeof global === 'object' && typeof collection === 'object') {\n    return _.union(global, collection);\n  } else if (typeof global === 'object') {\n    return global;\n  } else if (typeof collection === 'object') {\n    return collection;\n  }\n});\nUI.registerHelper('AdminSchemas', function () {\n  return AdminDashboard.schemas;\n});\nUI.registerHelper('adminGetSkin', function () {\n  if (typeof AdminConfig.dashboard !== 'undefined' && typeof AdminConfig.dashboard.skin === 'string') {\n    return AdminConfig.dashboard.skin;\n  } else {\n    return 'blue';\n  }\n});\nUI.registerHelper('adminIsUserInRole', function (_id, role) {\n  return Roles.userIsInRole(_id, role);\n});\nUI.registerHelper('adminGetUsers', function () {\n  return Meteor.users;\n});\nUI.registerHelper('adminGetUserSchema', function () {\n  var schema;\n\n  if (_.has(AdminConfig, 'userSchema')) {\n    schema = AdminConfig.userSchema;\n  } else if (typeof Meteor.users._c2 === 'object') {\n    schema = Meteor.users.simpleSchema();\n  }\n\n  return schema;\n});\nUI.registerHelper('adminCollectionLabel', function (collection) {\n  if (collection != null) {\n    return AdminDashboard.collectionLabel(collection);\n  }\n});\nUI.registerHelper('adminCollectionCount', function (collection) {\n  var ref;\n\n  if (collection === 'Users') {\n    return Meteor.users.find().count();\n  } else {\n    return (ref = AdminCollectionsCount.findOne({\n      collection: collection\n    })) != null ? ref.count : void 0;\n  }\n});\nUI.registerHelper('adminTemplate', function (collection, mode) {\n  var ref, ref1;\n\n  if ((collection != null ? collection.toLowerCase() : void 0) !== 'users' && typeof (typeof AdminConfig !== \"undefined\" && AdminConfig !== null ? (ref = AdminConfig.collections) != null ? (ref1 = ref[collection]) != null ? ref1.templates : void 0 : void 0 : void 0) !== 'undefined') {\n    return AdminConfig.collections[collection].templates[mode];\n  }\n});\nUI.registerHelper('adminGetCollection', function (collection) {\n  return _.find(adminCollections(), function (item) {\n    return item.name === collection;\n  });\n});\nUI.registerHelper('adminWidgets', function () {\n  if (typeof AdminConfig.dashboard !== 'undefined' && typeof AdminConfig.dashboard.widgets !== 'undefined') {\n    return AdminConfig.dashboard.widgets;\n  }\n});\nUI.registerHelper('adminUserEmail', function (user) {\n  if (user && user.emails && user.emails[0] && user.emails[0].address) {\n    return user.emails[0].address;\n  } else if (user && user.services && user.services.facebook && user.services.facebook.email) {\n    return user.services.facebook.email;\n  } else if (user && user.services && user.services.google && user.services.google.email) {\n    return user.services.google.email;\n  }\n});","map":{"version":3,"sources":["packages/wangziguan:admin/lib/client/js/helpers.coffee"],"names":["adminCollections","Template","registerHelper","AdminTables","collections","AdminConfig","Users","collectionObject","Meteor","users","icon","label","_","map","obj","key","extend","name","defaults","color","viewPath","Router","path","newPath","UI","skin","Session","get","AdminDashboard","sidebarItems","items","each","collectionItems","fn","item","title","url","push","collection","global","autoForm","omitFields","equals","union","schemas","dashboard","_id","role","Roles","userIsInRole","schema","has","userSchema","_c2","simpleSchema","collectionLabel","ref","find","count","AdminCollectionsCount","findOne","mode","ref1","toLowerCase","templates","widgets","user","emails","address","services","facebook","email","google"],"mappings":"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","sourcesContent":["var adminCollections;\n\nTemplate.registerHelper('AdminTables', AdminTables);\n\nadminCollections = function() {\n  var collections;\n  collections = {};\n  if (typeof AdminConfig !== 'undefined' && typeof AdminConfig.collections === 'object') {\n    collections = AdminConfig.collections;\n  }\n  collections.Users = {\n    collectionObject: Meteor.users,\n    icon: 'user',\n    label: '账号管理'\n  };\n  return _.map(collections, function(obj, key) {\n    obj = _.extend(obj, {\n      name: key\n    });\n    obj = _.defaults(obj, {\n      label: key,\n      icon: 'plus',\n      color: 'blue'\n    });\n    return obj = _.extend(obj, {\n      viewPath: Router.path(`adminDashboard${key}View`),\n      newPath: Router.path(`adminDashboard${key}New`)\n    });\n  });\n};\n\nUI.registerHelper('AdminConfig', function() {\n  if (typeof AdminConfig !== 'undefined') {\n    return AdminConfig;\n  }\n});\n\nUI.registerHelper('admin_skin', function() {\n  return (typeof AdminConfig !== \"undefined\" && AdminConfig !== null ? AdminConfig.skin : void 0) || 'blue';\n});\n\nUI.registerHelper('admin_collections', adminCollections);\n\nUI.registerHelper('admin_collection_name', function() {\n  return Session.get('admin_collection_name');\n});\n\nUI.registerHelper('admin_current_id', function() {\n  return Session.get('admin_id');\n});\n\nUI.registerHelper('admin_current_doc', function() {\n  return Session.get('admin_doc');\n});\n\nUI.registerHelper('admin_is_users_collection', function() {\n  return Session.get('admin_collection_name') === 'Users';\n});\n\nUI.registerHelper('admin_sidebar_items', function() {\n  return AdminDashboard.sidebarItems;\n});\n\nUI.registerHelper('admin_collection_items', function() {\n  var items;\n  items = [];\n  _.each(AdminDashboard.collectionItems, (fn) => {\n    var item;\n    item = fn(this.name, '/admin/' + this.name);\n    if ((item != null ? item.title : void 0) && (item != null ? item.url : void 0)) {\n      return items.push(item);\n    }\n  });\n  return items;\n});\n\nUI.registerHelper('admin_omit_fields', function() {\n  var collection, global;\n  if (typeof AdminConfig.autoForm !== 'undefined' && typeof AdminConfig.autoForm.omitFields === 'object') {\n    global = AdminConfig.autoForm.omitFields;\n  }\n  if (!Session.equals('admin_collection_name', 'Users') && typeof AdminConfig !== 'undefined' && typeof AdminConfig.collections[Session.get('admin_collection_name')].omitFields === 'object') {\n    collection = AdminConfig.collections[Session.get('admin_collection_name')].omitFields;\n  }\n  if (typeof global === 'object' && typeof collection === 'object') {\n    return _.union(global, collection);\n  } else if (typeof global === 'object') {\n    return global;\n  } else if (typeof collection === 'object') {\n    return collection;\n  }\n});\n\nUI.registerHelper('AdminSchemas', function() {\n  return AdminDashboard.schemas;\n});\n\nUI.registerHelper('adminGetSkin', function() {\n  if (typeof AdminConfig.dashboard !== 'undefined' && typeof AdminConfig.dashboard.skin === 'string') {\n    return AdminConfig.dashboard.skin;\n  } else {\n    return 'blue';\n  }\n});\n\nUI.registerHelper('adminIsUserInRole', function(_id, role) {\n  return Roles.userIsInRole(_id, role);\n});\n\nUI.registerHelper('adminGetUsers', function() {\n  return Meteor.users;\n});\n\nUI.registerHelper('adminGetUserSchema', function() {\n  var schema;\n  if (_.has(AdminConfig, 'userSchema')) {\n    schema = AdminConfig.userSchema;\n  } else if (typeof Meteor.users._c2 === 'object') {\n    schema = Meteor.users.simpleSchema();\n  }\n  return schema;\n});\n\nUI.registerHelper('adminCollectionLabel', function(collection) {\n  if (collection != null) {\n    return AdminDashboard.collectionLabel(collection);\n  }\n});\n\nUI.registerHelper('adminCollectionCount', function(collection) {\n  var ref;\n  if (collection === 'Users') {\n    return Meteor.users.find().count();\n  } else {\n    return (ref = AdminCollectionsCount.findOne({\n      collection: collection\n    })) != null ? ref.count : void 0;\n  }\n});\n\nUI.registerHelper('adminTemplate', function(collection, mode) {\n  var ref, ref1;\n  if ((collection != null ? collection.toLowerCase() : void 0) !== 'users' && typeof (typeof AdminConfig !== \"undefined\" && AdminConfig !== null ? (ref = AdminConfig.collections) != null ? (ref1 = ref[collection]) != null ? ref1.templates : void 0 : void 0 : void 0) !== 'undefined') {\n    return AdminConfig.collections[collection].templates[mode];\n  }\n});\n\nUI.registerHelper('adminGetCollection', function(collection) {\n  return _.find(adminCollections(), function(item) {\n    return item.name === collection;\n  });\n});\n\nUI.registerHelper('adminWidgets', function() {\n  if (typeof AdminConfig.dashboard !== 'undefined' && typeof AdminConfig.dashboard.widgets !== 'undefined') {\n    return AdminConfig.dashboard.widgets;\n  }\n});\n\nUI.registerHelper('adminUserEmail', function(user) {\n  if (user && user.emails && user.emails[0] && user.emails[0].address) {\n    return user.emails[0].address;\n  } else if (user && user.services && user.services.facebook && user.services.facebook.email) {\n    return user.services.facebook.email;\n  } else if (user && user.services && user.services.google && user.services.google.email) {\n    return user.services.google.email;\n  }\n});\n"]},"sourceType":"script","hash":"5433ceca5aa78e93a9429b39bbd3ec12bc48f7f9"}
