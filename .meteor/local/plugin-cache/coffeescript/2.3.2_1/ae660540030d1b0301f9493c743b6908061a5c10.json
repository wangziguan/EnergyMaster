{"metadata":{},"options":{"plugins":[{"key":"base$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"base$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$2","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$7","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$8","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$9","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/wangziguan/wzg/EnergyMaster/packages/wangziguan:admin/lib/both/AdminDashboard.coffee","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.linux.x86_64"},"sourceFileName":"packages/wangziguan:admin/lib/both/AdminDashboard.coffee","filename":"/home/wangziguan/wzg/EnergyMaster/packages/wangziguan:admin/lib/both/AdminDashboard.coffee","passPerPreset":false,"envName":"development","cwd":"/home/wangziguan/wzg/EnergyMaster","root":"/home/wangziguan/wzg/EnergyMaster","presets":[],"generatorOpts":{"filename":"/home/wangziguan/wzg/EnergyMaster/packages/wangziguan:admin/lib/both/AdminDashboard.coffee","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/wangziguan:admin/lib/both/AdminDashboard.coffee"}},"code":"let SimpleSchema;\nmodule.link(\"simpl-schema\", {\n  default(v) {\n    SimpleSchema = v;\n  }\n\n}, 0);\nAdminDashboard = {\n  schemas: {},\n  sidebarItems: [],\n  collectionItems: [],\n  alertSuccess: function (message) {\n    return Session.set('adminSuccess', message);\n  },\n  alertFailure: function (message) {\n    return Session.set('adminError', message);\n  },\n  checkAdmin: function () {\n    if (!Roles.userIsInRole(Meteor.userId(), ['admin'])) {\n      Meteor.call('adminCheckAdmin');\n\n      if (typeof (typeof AdminConfig !== \"undefined\" && AdminConfig !== null ? AdminConfig.nonAdminRedirectRoute : void 0) === \"string\") {\n        Router.go(AdminConfig.nonAdminRedirectRoute);\n      }\n    }\n\n    if (typeof this.next === 'function') {\n      return this.next();\n    }\n  },\n  adminRoutes: ['adminDashboard', 'adminDashboardUsersNew', 'adminDashboardUsersEdit', 'adminDashboardView', 'adminDashboardNew', 'adminDashboardEdit'],\n  collectionLabel: function (collection) {\n    var ref;\n\n    if (collection === 'Users') {\n      return 'Users';\n    } else if (collection != null && typeof ((ref = AdminConfig.collections[collection]) != null ? ref.label : void 0) === 'string') {\n      return AdminConfig.collections[collection].label;\n    } else {\n      return Session.get('admin_collection_name');\n    }\n  },\n  addSidebarItem: function (title, url, options) {\n    var item;\n    item = {\n      title: title\n    };\n\n    if (_.isObject(url) && typeof options === 'undefined') {\n      item.options = url;\n    } else {\n      item.url = url;\n      item.options = options;\n    }\n\n    return this.sidebarItems.push(item);\n  },\n  extendSidebarItem: function (title, urls) {\n    var existing;\n\n    if (_.isObject(urls)) {\n      urls = [urls];\n    }\n\n    existing = _.find(this.sidebarItems, function (item) {\n      return item.title === title;\n    });\n\n    if (existing) {\n      return existing.options.urls = _.union(existing.options.urls, urls);\n    }\n  },\n  addCollectionItem: function (fn) {\n    return this.collectionItems.push(fn);\n  },\n  path: function (s) {\n    var path;\n    path = '/admin';\n\n    if (typeof s === 'string' && s.length > 0) {\n      path += (s[0] === '/' ? '' : '/') + s;\n    }\n\n    return path;\n  }\n};\nAdminDashboard.schemas.newUser = new SimpleSchema({\n  email: {\n    type: String,\n    label: \"Email address\"\n  },\n  password: {\n    type: String,\n    label: 'Password'\n  },\n  sendPassword: {\n    type: Boolean,\n    label: 'Send this user their password by email',\n    optional: true\n  }\n});\nAdminDashboard.schemas.sendResetPasswordEmail = new SimpleSchema({\n  _id: {\n    type: String\n  }\n});\nAdminDashboard.schemas.changePassword = new SimpleSchema({\n  _id: {\n    type: String\n  },\n  password: {\n    type: String\n  }\n});","map":{"version":3,"sources":["packages/wangziguan:admin/lib/both/AdminDashboard.coffee"],"names":["SimpleSchema","module","link","default","v","AdminDashboard","schemas","sidebarItems","collectionItems","alertSuccess","message","Session","set","alertFailure","checkAdmin","Roles","userIsInRole","Meteor","userId","call","AdminConfig","nonAdminRedirectRoute","Router","go","next","adminRoutes","collectionLabel","collection","ref","collections","label","get","addSidebarItem","title","url","options","item","_","isObject","push","extendSidebarItem","urls","existing","find","union","addCollectionItem","fn","path","s","length","newUser","email","type","String","password","sendPassword","Boolean","optional","sendResetPasswordEmail","_id","changePassword"],"mappings":"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","sourcesContent":["                   \n\nimport SimpleSchema from 'simpl-schema';\n\nAdminDashboard = {\n  schemas: {},\n  sidebarItems: [],\n  collectionItems: [],\n  alertSuccess: function(message) {\n    return Session.set('adminSuccess', message);\n  },\n  alertFailure: function(message) {\n    return Session.set('adminError', message);\n  },\n  checkAdmin: function() {\n    if (!Roles.userIsInRole(Meteor.userId(), ['admin'])) {\n      Meteor.call('adminCheckAdmin');\n      if (typeof (typeof AdminConfig !== \"undefined\" && AdminConfig !== null ? AdminConfig.nonAdminRedirectRoute : void 0) === \"string\") {\n        Router.go(AdminConfig.nonAdminRedirectRoute);\n      }\n    }\n    if (typeof this.next === 'function') {\n      return this.next();\n    }\n  },\n  adminRoutes: ['adminDashboard', 'adminDashboardUsersNew', 'adminDashboardUsersEdit', 'adminDashboardView', 'adminDashboardNew', 'adminDashboardEdit'],\n  collectionLabel: function(collection) {\n    var ref;\n    if (collection === 'Users') {\n      return 'Users';\n    } else if ((collection != null) && typeof ((ref = AdminConfig.collections[collection]) != null ? ref.label : void 0) === 'string') {\n      return AdminConfig.collections[collection].label;\n    } else {\n      return Session.get('admin_collection_name');\n    }\n  },\n  addSidebarItem: function(title, url, options) {\n    var item;\n    item = {\n      title: title\n    };\n    if (_.isObject(url) && typeof options === 'undefined') {\n      item.options = url;\n    } else {\n      item.url = url;\n      item.options = options;\n    }\n    return this.sidebarItems.push(item);\n  },\n  extendSidebarItem: function(title, urls) {\n    var existing;\n    if (_.isObject(urls)) {\n      urls = [urls];\n    }\n    existing = _.find(this.sidebarItems, function(item) {\n      return item.title === title;\n    });\n    if (existing) {\n      return existing.options.urls = _.union(existing.options.urls, urls);\n    }\n  },\n  addCollectionItem: function(fn) {\n    return this.collectionItems.push(fn);\n  },\n  path: function(s) {\n    var path;\n    path = '/admin';\n    if (typeof s === 'string' && s.length > 0) {\n      path += (s[0] === '/' ? '' : '/') + s;\n    }\n    return path;\n  }\n};\n\nAdminDashboard.schemas.newUser = new SimpleSchema({\n  email: {\n    type: String,\n    label: \"Email address\"\n  },\n  password: {\n    type: String,\n    label: 'Password'\n  },\n  sendPassword: {\n    type: Boolean,\n    label: 'Send this user their password by email',\n    optional: true\n  }\n});\n\nAdminDashboard.schemas.sendResetPasswordEmail = new SimpleSchema({\n  _id: {\n    type: String\n  }\n});\n\nAdminDashboard.schemas.changePassword = new SimpleSchema({\n  _id: {\n    type: String\n  },\n  password: {\n    type: String\n  }\n});\n"]},"sourceType":"script","hash":"ae660540030d1b0301f9493c743b6908061a5c10"}
