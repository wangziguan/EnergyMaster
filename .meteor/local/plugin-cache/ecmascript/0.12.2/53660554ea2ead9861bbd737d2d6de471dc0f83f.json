{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/wangziguan/wzg/EnergyMaster/packages/aldeed:autoform/autoform-validation.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/aldeed:autoform/autoform-validation.js","filename":"/home/wangziguan/wzg/EnergyMaster/packages/aldeed:autoform/autoform-validation.js","passPerPreset":false,"envName":"development","cwd":"/home/wangziguan/wzg/EnergyMaster","root":"/home/wangziguan/wzg/EnergyMaster","generatorOpts":{"filename":"/home/wangziguan/wzg/EnergyMaster/packages/aldeed:autoform/autoform-validation.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/aldeed:autoform/autoform-validation.js"}},"code":"/* global AutoForm, validateField:true */\nfunction _validateField(key, formId, skipEmpty, onlyIfAlreadyInvalid) {\n  var docToValidate; // Due to throttling, this can be called after the autoForm template is destroyed.\n  // If that happens, we exit without error.\n\n  var template = AutoForm.templateInstanceForForm(formId); // If form is not currently rendered, return true\n\n  if (!Utility.checkTemplate(template)) return true;\n  var form = AutoForm.getCurrentDataForForm(formId);\n  var ss = AutoForm.getFormSchema(formId, form);\n  if (!ss) return true; // Skip validation if onlyIfAlreadyInvalid is true and the form is\n  // currently valid.\n\n  if (onlyIfAlreadyInvalid && ss.namedContext(formId).isValid()) {\n    return true; //skip validation\n  } // Create a document based on all the values of all the inputs on the form\n  // Get the form type definition\n\n\n  var ftd = Utility.getFormTypeDef(form.type); // Clean and validate doc\n\n  docToValidate = AutoForm.getFormValues(formId, template, ss, !!ftd.usesModifier); // If form is not currently rendered, return true\n\n  if (!docToValidate) {\n    return true;\n  } // Skip validation if skipEmpty is true and the field we're validating\n  // has no value.\n\n\n  if (skipEmpty && !AutoForm.Utility.objAffectsKey(docToValidate, key)) {\n    return true; //skip validation\n  }\n\n  return AutoForm._validateFormDoc(docToValidate, !!ftd.usesModifier, formId, ss, form, key);\n} // Throttle field validation to occur at most every 300ms,\n// with leading and trailing calls.\n\n\nvalidateField = _.throttle(_validateField, 300);","map":{"version":3,"sources":["packages/aldeed:autoform/autoform-validation.js"],"names":["_validateField","key","formId","skipEmpty","onlyIfAlreadyInvalid","docToValidate","template","AutoForm","templateInstanceForForm","Utility","checkTemplate","form","getCurrentDataForForm","ss","getFormSchema","namedContext","isValid","ftd","getFormTypeDef","type","getFormValues","usesModifier","objAffectsKey","_validateFormDoc","validateField","_","throttle"],"mappings":"AAAA;AAEA,SAASA,cAAT,CAAwBC,GAAxB,EAA6BC,MAA7B,EAAqCC,SAArC,EAAgDC,oBAAhD,EAAsE;AACpE,MAAIC,aAAJ,CADoE,CAGpE;AACA;;AACA,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,uBAAT,CAAiCN,MAAjC,CAAf,CALoE,CAOpE;;AACA,MAAI,CAACO,OAAO,CAACC,aAAR,CAAsBJ,QAAtB,CAAL,EAAsC,OAAO,IAAP;AAEtC,MAAIK,IAAI,GAAGJ,QAAQ,CAACK,qBAAT,CAA+BV,MAA/B,CAAX;AACA,MAAIW,EAAE,GAAGN,QAAQ,CAACO,aAAT,CAAuBZ,MAAvB,EAA+BS,IAA/B,CAAT;AAEA,MAAI,CAACE,EAAL,EAAS,OAAO,IAAP,CAb2D,CAepE;AACA;;AACA,MAAIT,oBAAoB,IAAIS,EAAE,CAACE,YAAH,CAAgBb,MAAhB,EAAwBc,OAAxB,EAA5B,EAA+D;AAC7D,WAAO,IAAP,CAD6D,CAChD;AACd,GAnBmE,CAqBpE;AACA;;;AACA,MAAIC,GAAG,GAAGR,OAAO,CAACS,cAAR,CAAuBP,IAAI,CAACQ,IAA5B,CAAV,CAvBoE,CAyBpE;;AACAd,EAAAA,aAAa,GAAGE,QAAQ,CAACa,aAAT,CAAuBlB,MAAvB,EAA+BI,QAA/B,EAAyCO,EAAzC,EAA6C,CAAC,CAACI,GAAG,CAACI,YAAnD,CAAhB,CA1BoE,CA4BpE;;AACA,MAAI,CAAChB,aAAL,EAAoB;AAClB,WAAO,IAAP;AACD,GA/BmE,CAiCpE;AACA;;;AACA,MAAIF,SAAS,IAAI,CAACI,QAAQ,CAACE,OAAT,CAAiBa,aAAjB,CAA+BjB,aAA/B,EAA8CJ,GAA9C,CAAlB,EAAsE;AACpE,WAAO,IAAP,CADoE,CACvD;AACd;;AAED,SAAOM,QAAQ,CAACgB,gBAAT,CAA0BlB,aAA1B,EAAyC,CAAC,CAACY,GAAG,CAACI,YAA/C,EAA6DnB,MAA7D,EAAqEW,EAArE,EAAyEF,IAAzE,EAA+EV,GAA/E,CAAP;AACD,C,CAED;AACA;;;AACAuB,aAAa,GAAGC,CAAC,CAACC,QAAF,CAAW1B,cAAX,EAA2B,GAA3B,CAAhB","sourcesContent":["/* global AutoForm, validateField:true */\n\nfunction _validateField(key, formId, skipEmpty, onlyIfAlreadyInvalid) {\n  var docToValidate;\n\n  // Due to throttling, this can be called after the autoForm template is destroyed.\n  // If that happens, we exit without error.\n  var template = AutoForm.templateInstanceForForm(formId);\n\n  // If form is not currently rendered, return true\n  if (!Utility.checkTemplate(template)) return true;\n\n  var form = AutoForm.getCurrentDataForForm(formId);\n  var ss = AutoForm.getFormSchema(formId, form);\n\n  if (!ss) return true;\n\n  // Skip validation if onlyIfAlreadyInvalid is true and the form is\n  // currently valid.\n  if (onlyIfAlreadyInvalid && ss.namedContext(formId).isValid()) {\n    return true; //skip validation\n  }\n\n  // Create a document based on all the values of all the inputs on the form\n  // Get the form type definition\n  var ftd = Utility.getFormTypeDef(form.type);\n\n  // Clean and validate doc\n  docToValidate = AutoForm.getFormValues(formId, template, ss, !!ftd.usesModifier);\n\n  // If form is not currently rendered, return true\n  if (!docToValidate) {\n    return true;\n  }\n\n  // Skip validation if skipEmpty is true and the field we're validating\n  // has no value.\n  if (skipEmpty && !AutoForm.Utility.objAffectsKey(docToValidate, key)) {\n    return true; //skip validation\n  }\n\n  return AutoForm._validateFormDoc(docToValidate, !!ftd.usesModifier, formId, ss, form, key);\n}\n\n// Throttle field validation to occur at most every 300ms,\n// with leading and trailing calls.\nvalidateField = _.throttle(_validateField, 300);\n"]},"sourceType":"script","hash":"53660554ea2ead9861bbd737d2d6de471dc0f83f"}
